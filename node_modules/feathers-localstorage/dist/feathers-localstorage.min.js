!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.localstorage=e():(t.feathers=t.feathers||{},t.feathers.localstorage=e())}(window,(function(){return e=[function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(7)("@feathersjs/errors");function i(t,e,r,u,a){var c,s,f;(t=t||"Error")instanceof Error?(s=t.message||"Error",t.errors&&(c=t.errors)):"object"===n(t)?(s=t.message||"Error",a=t):s=t,a&&((f=JSON.parse(JSON.stringify(a))).errors?(c=f.errors,delete f.errors):a.errors&&(c=JSON.parse(JSON.stringify(a.errors)))),this.type="FeathersError",this.name=e,this.message=s,this.code=r,this.className=u,this.data=f,this.errors=c||{},o("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),o(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function a(t,e){i.call(this,t,"BadRequest",400,"bad-request",e)}function c(t,e){i.call(this,t,"NotAuthenticated",401,"not-authenticated",e)}function s(t,e){i.call(this,t,"PaymentError",402,"payment-error",e)}function f(t,e){i.call(this,t,"Forbidden",403,"forbidden",e)}function l(t,e){i.call(this,t,"NotFound",404,"not-found",e)}function p(t,e){i.call(this,t,"MethodNotAllowed",405,"method-not-allowed",e)}function h(t,e){i.call(this,t,"NotAcceptable",406,"not-acceptable",e)}function y(t,e){i.call(this,t,"Timeout",408,"timeout",e)}function d(t,e){i.call(this,t,"Conflict",409,"conflict",e)}function m(t,e){i(this,t,"Gone",410,"gone")}function v(t,e){i.call(this,t,"LengthRequired",411,"length-required",e)}function g(t,e){i.call(this,t,"Unprocessable",422,"unprocessable",e)}function b(t,e){i.call(this,t,"TooManyRequests",429,"too-many-requests",e)}function w(t,e){i.call(this,t,"GeneralError",500,"general-error",e)}function O(t,e){i.call(this,t,"NotImplemented",501,"not-implemented",e)}function j(t,e){i.call(this,t,"BadGateway",502,"bad-gateway",e)}function _(t,e){i.call(this,t,"Unavailable",503,"unavailable",e)}u(i,Error),Object.defineProperty(i.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),u(a,i),u(c,i),u(s,i),u(f,i),u(l,i),u(p,i),u(h,i),u(y,i),u(d,i),u(m,i),u(v,i),u(g,i),u(b,i),u(w,i),u(O,i),u(j,i),u(_,i);var S={FeathersError:i,BadRequest:a,NotAuthenticated:c,PaymentError:s,Forbidden:f,NotFound:l,MethodNotAllowed:p,NotAcceptable:h,Timeout:y,Conflict:d,Gone:m,LengthRequired:v,Unprocessable:g,TooManyRequests:b,GeneralError:w,NotImplemented:O,BadGateway:j,Unavailable:_,400:a,401:c,402:s,403:f,404:l,405:p,406:h,408:y,409:d,410:m,411:v,422:g,429:b,500:w,501:O,502:j,503:_};t.exports=Object.assign({convert:function(t){if(!t)return t;var e=(e=S[t.name])?new e(t.message,t.data):new Error(t.message||t);return"object"===n(t)&&Object.assign(e,t),e}},S)},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&("get"in o?e.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},u=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.hooks=void 0,i=i(r(10));u(r(3),e),e.hooks=i},function(t,e){var r,n;t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var a,c=[],s=!1,f=-1;function l(){s&&a&&(s=!1,a.length?c=a.concat(c):f=-1,c.length&&p())}function p(){if(!s){for(var t=u(l),e=(s=!0,c.length);e;){for(a=c,c=[];++f<e;)a&&a[f].run();f=-1,e=c.length}a=null,s=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return(n=clearTimeout)(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new h(t,e)),1!==c.length||s||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,r){"use strict";(function(t){function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(t);!(u=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.createSymbol=e.makeUrl=e.isPromise=e._=e.stripSlashes=void 0,e.stripSlashes=function(t){return t.replace(/^(\/+)|(\/+)$/g,"")},e._={each:function(t,r){t&&"function"==typeof t.forEach?t.forEach(r):e._.isObject(t)&&Object.keys(t).forEach((function(e){return r(t[e],e)}))},some:function(t,e){return Object.keys(t).map((function(e){return[t[e],e]})).some((function(t){var r=(t=o(t,2))[0];t=t[1];return e(r,t)}))},every:function(t,e){return Object.keys(t).map((function(e){return[t[e],e]})).every((function(t){var r=(t=o(t,2))[0];t=t[1];return e(r,t)}))},keys:function(t){return Object.keys(t)},values:function(t){return e._.keys(t).map((function(e){return t[e]}))},isMatch:function(t,r){return e._.keys(r).every((function(e){return t[e]===r[e]}))},isEmpty:function(t){return 0===e._.keys(t).length},isObject:function(t){return"object"===n(t)&&!Array.isArray(t)&&null!==t},isObjectOrArray:function(t){return"object"===n(t)&&null!==t},extend:function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Object.assign.apply(Object,[t].concat(r))},omit:function(t){for(var r=e._.extend({},t),n=arguments.length,o=new Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.forEach((function(t){return delete r[t]})),r},pick:function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((function(e,r){return void 0!==t[r]&&(e[r]=t[r]),e}),{})},merge:function(t,n){return e._.isObject(t)&&e._.isObject(n)&&Object.keys(n).forEach((function(o){e._.isObject(n[o])?(t[o]||Object.assign(t,r({},o,{})),e._.merge(t[o],n[o])):Object.assign(t,r({},o,n[o]))})),t}},e.isPromise=function(t){return e._.isObject(t)&&"function"==typeof t.then},e.makeUrl=function(r){var n=(u="function"==typeof(u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).get?u.get.bind(u):function(){})("env")||"production",o=u("host")||t.env.HOST_NAME||"localhost",i="development"===n||"test"===n?"http":"https",u=u("port")||t.env.PORT||3030;n="development"===n||"test"===n?":".concat(u):"";return r=r||"","".concat(i,"://").concat(o).concat(n,"/").concat(e.stripSlashes(r))},e.createSymbol=function(t){return"undefined"!=typeof Symbol?Symbol(t):t}}).call(this,r(2))},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.OPERATORS=e.FILTERS=void 0;var o=r(1),i=r(0);function u(t){if(void 0!==t)return Math.abs(parseInt(t,10))}function a(t,e,r,n){return Array.isArray(r)?o._.each(r,(function(r){void 0!==e[r]&&(t[r]=e[r])})):o._.each(r,(function(r,o){void 0!==(r=r(e[o],n))&&(t[o]=r)})),t}function c(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=void 0===(n=r.filters)?{}:n,u=void 0===(u=r.operators)?[]:u,c={};return c.filters=a({},t,e.FILTERS,r),c.filters=a(c.filters,t,n,r),c.query=function t(e,r,n){return Array.isArray(e)?e.map((function(e){return t(e,r,n)})):o._.isObject(e)&&e.constructor==={}.constructor?(u={},o._.each(e,(function(o,a){if("$"===a[0]){if(void 0!==n[a])return;if(!r.includes(a))throw new i.BadRequest("Invalid query parameter ".concat(a),e)}u[a]=t(o,r,n)})),Object.getOwnPropertySymbols(e).forEach((function(t){u[t]=e[t]})),u):e;var u}(t,e.OPERATORS.concat(u),c.filters),c}e.FILTERS={$sort:function(t){return"object"!==n(e=t)||Array.isArray(e)?e:Object.keys(e).reduce((function(t,r){return t[r]="object"===n(e[r])?e[r]:parseInt(e[r],10),t}),{});var e},$limit:function(t,e){return t=u(t),(e=e.paginate)&&e.default?(r="number"!=typeof t||isNaN(t)?e.default:t,e="number"==typeof e.max?e.max:Number.MAX_VALUE,Math.min(r,e)):t;var r},$skip:u,$select:function(t){return t}},e.OPERATORS=["$in","$nin","$lt","$lte","$gt","$gte","$ne","$or"],e.default=c,t.exports=Object.assign(c,t.exports)},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n)return(n=Object.getOwnPropertyDescriptor(n,e)).get?n.get.call(arguments.length<3?t:r):n.value}).apply(this,arguments)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=r(6).Service,s=[],f=function(){var t=f,e=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var r=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=a(t);r=e?(r=a(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this;if(r&&("object"===n(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(f);function f(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this,n=f;if(!(e instanceof n))throw new TypeError("Cannot call a class as a function");if((e=r.call(this,t))._storageKey=t.name||"feathers",e._storage=t.storage||"undefined"!=typeof window&&window.localStorage,e._throttle=t.throttle||200,e._reuseKeys=t.reuseKeys||!1,e.store=null,!e._storage)throw new Error("The `storage` option needs to be provided");if(-1===s.indexOf(e._storageKey))s.push(e._storageKey);else if(!e._reuseKeys)throw new Error("The storage name '".concat(e._storageKey,"' is already in use by another instance."));return e.ready(),e}return t=f,(e=[{key:"ready",value:function(){var t=this;return this.store?Promise.resolve(this.store):Promise.resolve(this._storage.getItem(this._storageKey)).then((function(t){return JSON.parse(t||"{}")})).then((function(e){var r=Object.keys(e),n=e[r[r.length-1]];return t._uId=r.length&&void 0!==n[t.id]?n[t.id]+1:t._uId,t.store=e}))}},{key:"flush",value:function(t){var e=this;return this._timeout||(this._timeout=setTimeout((function(){e._storage.setItem(e._storageKey,JSON.stringify(e.store)),delete e._timeout}),this._throttle)),t}},{key:"execute",value:function(t){for(var e=this,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return this.ready().then((function(){var r;return(r=i(a(f.prototype),t,e)).call.apply(r,[e].concat(n))}))}},{key:"find",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.execute.apply(this,["find"].concat(e))}},{key:"get",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.execute.apply(this,["get"].concat(e))}},{key:"create",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.execute.apply(this,["create"].concat(r)).then((function(e){return t.flush(e)}))}},{key:"patch",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.execute.apply(this,["patch"].concat(r)).then((function(e){return t.flush(e)}))}},{key:"update",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.execute.apply(this,["update"].concat(r)).then((function(e){return t.flush(e)}))}},{key:"remove",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.execute.apply(this,["remove"].concat(r)).then((function(e){return t.flush(e)}))}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),f}();t.exports=function(t){return new f(t)},t.exports.Service=f},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o=(d="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",u=d.asyncIterator||"@@asyncIterator",a=d.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(e){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o,i,u,a;e=e&&e.prototype instanceof p?e:p,e=Object.create(e.prototype),n=new j(n||[]);return e._invoke=(o=t,i=r,u=n,a="suspendedStart",function(t,e){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===t)throw e;return{value:void 0,done:!0}}for(u.method=t,u.arg=e;;){var r=u.delegate;if(r&&(r=function t(e,r){var n=e.iterator[r.method];if(void 0===n){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method))return l;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}return"throw"===(n=f(n,e.iterator,r.arg)).type?(r.method="throw",r.arg=n.arg,r.delegate=null,l):(n=n.arg)?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,u))){if(r===l)continue;return r}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if("suspendedStart"===a)throw a="completed",u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);if(a="executing","normal"===(r=f(o,i,u)).type){if(a=u.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:u.done}}"throw"===r.type&&(a="completed",u.method="throw",u.arg=r.arg)}}),e}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function p(){}function h(){}function y(){}var d,m,v=((m=(m=(c(d={},o,(function(){return this})),Object.getPrototypeOf))&&m(m(_([]))))&&m!==e&&r.call(m,o)&&(d=m),y.prototype=p.prototype=Object.create(d));function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var o;this._invoke=function(i,u){function a(){return new e((function(o,a){!function o(i,u,a,c){var s;if("throw"!==(i=f(t[i],t,u)).type)return(u=(s=i.arg).value)&&"object"==n(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(u).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}));c(i.arg)}(i,u,o,a)}))}return o=o?o.then(a,a):a()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e,n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(n=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:S}}function S(){return{value:void 0,done:!0}}return c(v,"constructor",h.prototype=y),c(y,"constructor",h),h.displayName=c(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,u,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},g(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,r=[];for(e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;0<=o;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var u=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(r=o.completion).type&&(n=r.arg,O(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function u(t,e,r,n,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){u(i,n,o,a,c,"next",t)}function c(t){u(i,n,o,a,c,"throw",t)}a(void 0)}))}}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=l(t);r=e?(r=l(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this;if(r&&("object"===n(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==o)return o;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return v.apply(void 0,r)(JSON.parse(JSON.stringify(t)))}var h=r(0),y=r(1)._,d=r(11),m=d.sorter,v=d.select,g=d.AdapterService,b=r(14).default,w=function(){var t=j,e=g;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var r,n,u,l,d,v,w,O=f(j);function j(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this,r=j;if(e instanceof r)return(e=O.call(this,y.extend({id:"id",matcher:b,sorter:m},t)))._uId=t.startId||0,e.store=t.store||{},e;throw new TypeError("Cannot call a class as a function")}return t=j,(e=[{key:"getEntries",value:(w=a(i().mark((function t(){var e,r,n=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0<n.length&&void 0!==n[0]?n[0]:{},r=(r=this.filterQuery(e)).query,t.abrupt("return",this._find(Object.assign({},e,{paginate:!1,query:r})));case 3:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"_find",value:(v=a(i().mark((function t(){var e,r,n,o,u,a=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=0<a.length&&void 0!==a[0]?a[0]:{},n=this.filterQuery(e),o=n.query,r=n.filters,n=n.paginate,o=y.values(this.store).filter(this.options.matcher(o)),u=o.length,void 0!==r.$sort&&o.sort(this.options.sorter(r.$sort)),void 0!==r.$skip&&(o=o.slice(r.$skip)),void 0!==r.$limit&&(o=o.slice(0,r.$limit)),u={total:u,limit:r.$limit,skip:r.$skip||0,data:o.map((function(t){return p(t,e)}))},n&&n.default){t.next=10;break}return t.abrupt("return",u.data);case 10:return t.abrupt("return",u);case 11:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"_get",value:(d=a(i().mark((function t(e){var r,n,o,u=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=1<u.length&&void 0!==u[1]?u[1]:{},!(e in this.store)){t.next=6;break}if(n=(n=this.filterQuery(r)).query,o=this.store[e],this.options.matcher(n)(o))return t.abrupt("return",p(o,r,this.id));t.next=6;break;case 6:throw new h.NotFound("No record found for id '".concat(e,"'"));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"_create",value:(l=a(i().mark((function t(e){var r,n,u,a=this,c=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=1<c.length&&void 0!==c[1]?c[1]:{},Array.isArray(e))return t.abrupt("return",Promise.all(e.map((function(t){return a._create(t,r)}))));t.next=3;break;case 3:return u=e[this.id]||this._uId++,n=y.extend({},e,o({},this.id,u)),u=this.store[u]=n,t.abrupt("return",p(u,r,this.id));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"_update",value:(u=a(i().mark((function t(e,r){var n,u,a=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=2<a.length&&void 0!==a[2]?a[2]:{},t.next=3,this._get(e);case 3:return u=(u=t.sent)[this.id],e=u==e?u:e,this.store[e]=y.extend({},r,o({},this.id,e)),t.abrupt("return",this._get(e,n));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"_patch",value:(n=a(i().mark((function t(e,r){var n,o,u,a=this,c=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=2<c.length&&void 0!==c[2]?c[2]:{},o=function(t){return t=t[a.id],a.store[t]=y.extend(a.store[t],y.omit(r,a.id)),p(a.store[t],n,a.id)},null===e)return t.next=5,this.getEntries(n);t.next=7;break;case 5:return u=t.sent,t.abrupt("return",u.map(o));case 7:return t.t0=o,t.next=10,this._get(e,n);case 10:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 12:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"_remove",value:(r=a(i().mark((function t(e){var r,n,o=this,u=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=1<u.length&&void 0!==u[1]?u[1]:{},null===e)return t.next=4,this.getEntries(r);t.next=6;break;case 4:return n=t.sent,t.abrupt("return",Promise.all(n.map((function(t){return o._remove(t[o.id],r)}))));case 6:return t.next=8,this._get(e,r);case 8:return n=t.sent,delete this.store[e],t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),j}();t.exports=function(t){return new w(t)},t.exports.Service=w},function(t,e,r){(function(n){var o;e.formatArgs=function(e){var r,n,o;e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors&&(r="color: "+this.color,e.splice(1,0,r,"color: inherit"),e[o=n=0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),e.splice(o,0,r))},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(o=!1,function(){o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||function(){},t.exports=r(8)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,r(2))},function(t,e,r){function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}t.exports=function(t){function e(t){var r,n,i,u=null;function a(){for(var t,n,o,i,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];a.enabled&&(t=a,o=(n=Number(new Date))-(r||n),t.diff=o,t.prev=r,t.curr=n,r=n,c[0]=e.coerce(c[0]),"string"!=typeof c[0]&&c.unshift("%O"),c[i=0]=c[0].replace(/%([a-zA-Z%])/g,(function(r,n){return"%%"===r?"%":(i++,"function"==typeof(n=e.formatters[n])&&(o=c[i],r=n.call(t,o),c.splice(i,1),i--),r);var o})),e.formatArgs.call(t,c),(t.log||e.log).apply(t,c))}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=o,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==u?u:(n!==e.namespaces&&(n=e.namespaces,i=e.enabled(t)),i)},set:function(t){u=t}}),"function"==typeof e.init&&e.init(a),a}function o(t,r){return(r=e(this.namespace+(void 0===r?":":r)+t)).log=this.log,r}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return((e.debug=e).default=e).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){var t=[].concat(n(e.names.map(i)),n(e.skips.map(i).map((function(t){return"-"+t})))).join(",");return e.enable(""),t},e.enable=function(t){e.save(t),e.namespaces=t,e.names=[],e.skips=[];var r,n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(9),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((function(r){e[r]=t[r]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}},function(t,e){var r=36e5,n=864e5;function o(t,e,r,n){return e=1.5*r<=e,Math.round(t/r)+" "+n+(e?"s":"")}t.exports=function(t,e){e=e||{};var i=typeof t;if(!("string"==i&&0<t.length)){if("number"==i&&isFinite(t))return(e.long?function(t){var e=Math.abs(t);return n<=e?o(t,e,n,"day"):r<=e?o(t,e,r,"hour"):6e4<=e?o(t,e,6e4,"minute"):1e3<=e?o(t,e,1e3,"second"):t+" ms"}:function(t){var e=Math.abs(t);return n<=e?Math.round(t/n)+"d":r<=e?Math.round(t/r)+"h":6e4<=e?Math.round(t/6e4)+"m":1e3<=e?Math.round(t/1e3)+"s":t+"ms"})(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}if(i=t,!(100<(i=String(i)).length)&&(i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i))){var u=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*u;case"weeks":case"week":case"w":return 6048e5*u;case"days":case"day":case"d":return u*n;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*u;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.enableHooks=e.processHooks=e.getHooks=e.isHookObject=e.convertHookData=e.makeArguments=e.defaultMakeArguments=e.createHookObject=e.ACTIVATE_HOOKS=void 0;var o=(r=r(3))._,i=o.each,u=o.pick;function a(t){var e=[];return void 0!==t.id&&e.push(t.id),t.data&&e.push(t.data),e.push(t.params||{}),e}function c(t){var e={};return Array.isArray(t)?e={all:t}:"object"!==n(t)?e={all:[t]}:i(t,(function(t,r){e[r]=Array.isArray(t)?t:[t]})),e}function s(t){return"object"===n(t)&&"string"==typeof t.method&&"string"==typeof t.type}e.ACTIVATE_HOOKS=(0,r.createSymbol)("__feathersActivateHooks"),e.createHookObject=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={};return Object.defineProperty(r,"toJSON",{value:function(){return u(this,"type","method","path","params","id","data","result","error")}}),Object.assign(r,e,{method:t,get path(){var t=e.app,r=e.service;return r&&t&&t.services?Object.keys(t.services).find((function(e){return t.services[e]===r})):null}})},e.defaultMakeArguments=a,e.makeArguments=function(t){switch(t.method){case"find":return[t.params];case"get":case"remove":return[t.id,t.params];case"update":case"patch":return[t.id,t.data,t.params];case"create":return[t.data,t.params]}return a(t)},e.convertHookData=c,e.isHookObject=s,e.getHooks=function(t,e,r,n){return t=t.__hooks[r][n]||[],e=e.__hooks[r][n]||[],4<arguments.length&&void 0!==arguments[4]&&arguments[4]?e.concat(t):t.concat(e)},e.processHooks=function(t,e){function r(t){if(t){if(!s(t))throw new Error("".concat(o.type," hook for '").concat(o.method,"' method returned invalid hook object"));o=t}return o}var n=this,o=e;return t.reduce((function(t,e){var o=e.bind(n);return t.then((function(t){return o(t)})).then(r)}),Promise.resolve(o)).then((function(){return o})).catch((function(t){throw t.hook=o,t}))},e.enableHooks=function(t,e,r){if("function"==typeof t.hooks)return t;var n={};return r.forEach((function(t){n[t]={}})),Object.defineProperty(t,"__hooks",{configurable:!0,value:n,writable:!0}),Object.assign(t,{hooks:function(t){var r=this;return i(t,(function(t,n){if(!r.__hooks[n])throw new Error("'".concat(n,"' is not a valid hook type"));var o=c(t);i(o,(function(t,r){if("all"!==r&&-1===e.indexOf(r))throw new Error("'".concat(r,"' is not a valid hook method"))})),e.forEach((function(t){var e=r.__hooks[n][t]||(r.__hooks[n][t]=[]);o.all&&e.push.apply(e,o.all),o[t]&&e.push.apply(e,o[t])}))})),this}})}},function(t,e,r){"use strict";function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&("get"in o?e.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),u=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},c=(Object.defineProperty(e,"__esModule",{value:!0}),e.select=e.OPERATORS=e.FILTERS=e.filterQuery=e.AdapterService=void 0,r(1)),s=r(12),f=(Object.defineProperty(e,"AdapterService",{enumerable:!0,get:function(){return s.AdapterService}}),r(4));Object.defineProperty(e,"filterQuery",{enumerable:!0,get:function(){return a(f).default}}),Object.defineProperty(e,"FILTERS",{enumerable:!0,get:function(){return f.FILTERS}}),Object.defineProperty(e,"OPERATORS",{enumerable:!0,get:function(){return f.OPERATORS}}),u(r(13),e),e.select=function(t){for(var e=t&&t.query&&t.query.$select,r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];function u(t){var r;return Array.isArray(e)?(r=c._).pick.apply(r,[t].concat(n(e))):t}return Array.isArray(e)&&o.length&&e.push.apply(e,o),function(t){return Array.isArray(t)?t.map(u):u(t)}}},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){if("function"!=typeof t[e])return Promise.reject(new u.NotImplemented("Method ".concat(e," not available")));for(var r=arguments.length,n=new Array(2<r?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return t[e].apply(t,n)}var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},u=(Object.defineProperty(e,"__esModule",{value:!0}),e.AdapterService=void 0,r(0)),a=i(r(4)),c={find:!0,get:!1,update:!1};i=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.options=Object.assign({id:"id",events:[],paginate:{},multi:!1,filters:[],whitelist:[]},e)}var e,r;return e=t,(r=[{key:"id",get:function(){return this.options.id}},{key:"events",get:function(){return this.options.events}},{key:"filterQuery",value:function(){var t=(void 0!==(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).paginate?e:this.options).paginate,e=void 0===(e=e.query)?{}:e,r=Object.assign({operators:this.options.whitelist||[],filters:this.options.filters,paginate:t},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});e=(0,a.default)(e,r);return Object.assign(e,{paginate:t})}},{key:"allowsMulti",value:function(t){var e=c[t];return void 0!==e||!0===(e=this.options.multi)||!1===e?e:e.includes(t)}},{key:"find",value:function(t){return o(this,"_find",t)}},{key:"get",value:function(t,e){return o(this,"_get",t,e)}},{key:"create",value:function(t,e){return Array.isArray(t)&&!this.allowsMulti("create")?Promise.reject(new u.MethodNotAllowed("Can not create multiple entries")):o(this,"_create",t,e)}},{key:"update",value:function(t,e,r){return null===t||Array.isArray(e)?Promise.reject(new u.BadRequest("You can not replace multiple instances. Did you mean 'patch'?")):o(this,"_update",t,e,r)}},{key:"patch",value:function(t,e,r){return null!==t||this.allowsMulti("patch")?o(this,"_patch",t,e,r):Promise.reject(new u.MethodNotAllowed("Can not patch multiple entries"))}},{key:"remove",value:function(t,e){return null!==t||this.allowsMulti("remove")?o(this,"_remove",t,e):Promise.reject(new u.MethodNotAllowed("Can not remove multiple entries"))}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.AdapterService=i},function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.sorter=e.compare=e.compareArrays=e.compareNSB=void 0,e.compareNSB=function(t,e){return t<e?-1:e<t?1:0},e.compareArrays=function(t,r){for(var n,o=0;o<Math.min(t.length,r.length);o+=1)if(0!==(n=e.compare(t[o],r[o])))return n;return e.compareNSB(t.length,r.length)},e.compare=function(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e.compareNSB,o=e.compareNSB,i=e.compare,u=e.compareArrays;if(void 0===t)return void 0===r?0:-1;if(void 0===r)return void 0===t?0:1;if(null===t)return null===r?0:-1;if(null===r)return null===t?0:1;if("number"==typeof t)return"number"==typeof r?o(t,r):-1;if("number"==typeof r)return"number"==typeof t?o(t,r):1;if("string"==typeof t)return"string"==typeof r?n(t,r):-1;if("string"==typeof r)return"string"==typeof t?n(t,r):1;if("boolean"==typeof t)return"boolean"==typeof r?o(t,r):-1;if("boolean"==typeof r)return"boolean"==typeof t?o(t,r):1;if(t instanceof Date)return r instanceof Date?o(t.getTime(),r.getTime()):-1;if(r instanceof Date)return t instanceof Date?o(t.getTime(),r.getTime()):1;if(Array.isArray(t))return Array.isArray(r)?u(t,r):-1;if(Array.isArray(r))return Array.isArray(t)?u(t,r):1;for(var a,c=Object.keys(t).sort(),s=Object.keys(r).sort(),f=0;f<Math.min(c.length,s.length);f+=1)if(0!==(a=i(t[c[f]],r[s[f]])))return a;return o(c.length,s.length)},e.sorter=function(t){var r=Object.keys(t).map((function(e){return{key:e,direction:t[e]}}));return function(t,o){var i,u=function(t,e){var r,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==o.return||o.return()}finally{if(a)throw i}}}}(r);try{for(u.s();!(i=u.n()).done;){var a,c=i.value;if(0!=(a=c.direction*e.compare(t[c.key],o[c.key])))return a}}catch(t){u.e(t)}finally{u.f()}return 0}}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(t);!(u=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t){var e="[object "+t+"]";return function(t){return Object.prototype.toString.call(t)===e}}r.r(e),r.d(e,"default",(function(){return j})),r.d(e,"compare",(function(){return _})),r.d(e,"comparable",(function(){return S}));var a=u("Array"),c=u("Object"),s=u("Function");function f(t,e){return s(t.get)?t.get(e):t[e]}l=function(t){return function(e,r,n,o,i){if(!a(r)||!r.length)return t(e,r);for(var u=0,c=r.length;u<c;u++)if(t(e,f(r,u)))return!0;return!1}};var l,p=function(t,e,r,n,i){return i?Boolean(i.find((function(e){(e=o(e,3))[0],e[1],e=e[2];return l(t)}))):l(t)};function h(t){return function(e,r,n,o){if(!a(r)||!r.length)return t(e,r,n,o);for(var i=0,u=r.length;i<u;i++)if(!t(e,f(r,i),r,o))return!1;return!0}}function y(t,e,r,n,o){return t.validate(t.options,e,r,n,o)}var d={$eq:p((function(t,e){return t(e)})),$ne:h((function(t,e){return t(e)})),$gt:p((function(t,e){return t(e)})),$gte:p((function(t,e){return t(e)})),$lt:p((function(t,e){return t(e)})),$lte:p((function(t,e){return t(e)})),$mod:p((function(t,e){return t(e)})),$in:function(t,e){return t(e)},$nin:function(t,e){return t(e)},$not:function(t,e,r,n){return t(e,r,n)},$type:function(t,e){return t(e)},$all:function(t,e,r,n,o){return d.$and(t,e,r,n,o)},$size:function(t,e){return!!e&&t===e.length},$or:function(t,e,r,n){for(var o=0,i=t.length;o<i;o++)if(y(f(t,o),e,r,n))return!0;return!1},$nor:function(t,e,r,n){return!d.$or(t,e,r,n)},$and:function(t,e,r,n,o){if(o){for(var i=0,u=t.length;i<u;i++)if(!y(f(t,i),e,r,n,o))return!1}else for(i=0,u=t.length;i<u;i++)if(!y(f(t,i),e,r,n,o))return!1;return!0},$regex:p((function(t,e){return"string"==typeof e&&t.test(e)})),$where:function(t,e,r,n){return t.call(e,e,r,n)},$elemMatch:function(t,e,r,n){if(a(e)){for(var o=e,i=t,u=0;u<o.length;u++)if(f(o,u),y(i,f(o,u)))return!!~u;return!1}return y(t,e,r,n)},$exists:function(t,e,r,n){return n.hasOwnProperty(r)===t}},m={$eq:function(t,e,r){var n=r.comparable,o=r.compare;return t instanceof RegExp?p((function(e){return"string"==typeof e&&t.test(e)})):t instanceof Function?p(t):a(t)&&!t.length?p((function(t){return a(t)&&!t.length})):p(null===t?function(t){return null==t}:function(e){return 0===o(n(e),n(t))})},$gt:function(t,e,r){var n=r.comparable,o=r.compare;return function(e){return 0<o(n(e),n(t))}},$gte:function(t,e,r){var n=r.comparable,o=r.compare;return function(e){return 0<=o(n(e),n(t))}},$lt:function(t,e,r){var n=r.comparable,o=r.compare;return function(e){return o(n(e),n(t))<0}},$lte:function(t,e,r){var n=r.comparable,o=r.compare;return function(e){return o(n(e),n(t))<=0}},$in:function(t,e,r){var o=r.comparable;return function(e){if(!(e instanceof Array)){var i=o(e);if(i===e&&"object"===n(e))for(a=t.length;a--;)if(String(t[a])===String(e)&&"[object Object]"!==String(e))return!0;if(void 0===i)for(a=t.length;a--;)if(null==t[a])return!0;for(a=t.length;a--;){var u=y(O(f(t,a),r),i,a,t);if(u&&"[object Object]"!==String(u)&&"[object Object]"!==String(i))return!0}return!!~t.indexOf(i)}for(var a=e.length;a--;)if(~t.indexOf(o(f(e,a))))return!0;return!1}},$nin:function(t,e,r){var n=m.$in(t,e,r);return function(t,e,r,o){return!n(t,e,r,o)}},$mod:function(t){return function(e){return e%t[0]==t[1]}},$ne:function(t,e,r){var n=m.$eq(t,e,r);return h((function(t,e,r,o){return!n(t,e,r,o)}))},$and:function(t,e,r){return t.map(b(r))},$all:function(t,e,r){return m.$and(t,e,r)},$or:function(t,e,r){return t.map(b(r))},$nor:function(t,e,r){return t.map(b(r))},$not:function(t,e,r){var n=b(r)(t);return function(t,e,r){return!y(n,t,e,r)}},$type:function(t){return function(e,r,n){return null!=e&&(e instanceof t||e.constructor==t)}},$regex:function(t,e){return new RegExp(t,e.$options)},$where:function(t){return"string"==typeof t?new Function("obj","return "+t):t},$elemMatch:function(t,e,r){return b(r)(t)},$exists:function(t){return!!t}};function v(t,e){return{options:t,validate:e}}function g(t,e){var r=t.keyPath,n=t.child,i=(t=t.query,[]);return function t(e,r,n,o,i){if(n!==r.length&&null!=e)if(o=f(r,n),a(e)&&isNaN(Number(o)))for(var u=0,c=e.length;u<c;u++)t(f(e,u),r,n,e,i);else t(f(e,o),r,n+1,e,i);else i.push([e,r[n-1],o])}(e,r,0,e,i),1===i.length?y(n,(r=o(i[0],3))[0],r[1],r[2]):(t&&t.$ne,i.map((function(t){return o(t,1)[0]})),y(n,void 0,void 0,void 0,i))}function b(t){function e(t){var e;return t&&(e=t)&&(e.constructor===Object||e.constructor===Array||"function Object() { [native code] }"===e.constructor.toString()||"function Array() { [native code] }"===e.constructor.toString())?t:{$eq:t}}function r(e){var r,u=[];for(r in e=n(e)){var a=e[r];if("$options"!==r)if(c=d[r]||t&&o&&o[r])m[r]&&(a=m[r](a,e,t)),u.push(v(n(a),c));else{if(36===r.charCodeAt(0))throw new Error("Unknown operation "+r);var c=r.split(".");u.push(v({keyPath:c=c,child:i(a),query:a},g))}}return 1===u.length?u[0]:v(u,d.$and)}var n=t.comparable,o=t.expressions,i=function(t){return-1===function t(e,r){if(!c(e))return r;for(var n in e)r.push(n),t(e[n],r);return r}(t=e(t),[]).join(",").search(/[$.]/)?v(t,w):r(t)};return function(t){return r(e(t))}}function w(t,e){if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))return!1;if(c(t)){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!w(t[r],e[r]))return!1;return!0}if(a(t)){if(t.length!==e.length)return!1;for(var n=0,o=t.length;n<o;n++)if(!w(t[n],e[n]))return!1;return!0}return t===e}function O(t,e){return t=b(e)(t),e&&e.select?{options:t,validate:function(t,r,n,o){return y(t,r&&e.select(r),n,o)}}:t}function j(t,e){var r=O(t,e=Object.assign({compare:_,comparable:S},e));return function(t,e,n){return y(r,t,e,n)}}function _(t,e){return w(t,e)?0:n(t)===n(e)?e<t?1:t<e?-1:void 0:void 0}function S(t){return t instanceof Date?t.getTime():a(t)?t.map(S):t&&"function"==typeof t.toJSON?t.toJSON():t}}],r={},t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=5);function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e,r}));